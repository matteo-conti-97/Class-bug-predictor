package com.isw2;

import com.isw2.control.ScraperController;
import com.isw2.entity.Commit;
import com.isw2.entity.Release;
import com.isw2.util.CodeParser;

import java.io.IOException;
import java.sql.SQLException;
import java.text.ParseException;
import java.util.List;

public class Main {
    public static void main(String[] args) throws IOException {
        CodeParser.getCodeStats("LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudDsKCmltcG9ydCBq\nYXZhLmlvLklPRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLkFycmF5TGlz\ndDsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsKaW1wb3J0IGphdmEu\ndXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5Db25jdXJyZW50SGFzaE1hcDsKaW1wb3J0\nIGphdmEudXRpbC5jb25jdXJyZW50LkNvdW50RG93bkxhdGNoOwppbXBvcnQg\namF2YS51dGlsLmNvbmN1cnJlbnQuRXhlY3V0aW9uRXhjZXB0aW9uOwppbXBv\ncnQgamF2YS51dGlsLmNvbmN1cnJlbnQuRXhlY3V0b3JTZXJ2aWNlOwppbXBv\ncnQgamF2YS51dGlsLmNvbmN1cnJlbnQuRXhlY3V0b3JzOwppbXBvcnQgamF2\nYS51dGlsLmNvbmN1cnJlbnQuRnV0dXJlOwppbXBvcnQgamF2YS51dGlsLmNv\nbmN1cnJlbnQuYXRvbWljLkF0b21pY0Jvb2xlYW47CmltcG9ydCBqYXZhLnV0\naWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljSW50ZWdlcjsKCmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llLkJvb2tpZVNoZWxsLlVwZGF0\nZUxlZGdlck5vdGlmaWVyOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLm5ldC5Cb29raWVTb2NrZXRBZGRyZXNzOwppbXBvcnQgb3JnLmFwYWNoZS5i\nb29ra2VlcGVyLnByb3RvLkJvb2trZWVwZXJJbnRlcm5hbENhbGxiYWNrcy5H\nZW5lcmljQ2FsbGJhY2s7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyOwppbXBv\ncnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CgppbXBvcnQgY29tLmdvb2ds\nZS5jb21tb24udXRpbC5jb25jdXJyZW50LkZ1dHVyZUNhbGxiYWNrOwppbXBv\ncnQgY29tLmdvb2dsZS5jb21tb24udXRpbC5jb25jdXJyZW50LkZ1dHVyZXM7\nCmltcG9ydCBjb20uZ29vZ2xlLmNvbW1vbi51dGlsLmNvbmN1cnJlbnQuTGlz\ndGVuYWJsZUZ1dHVyZTsKaW1wb3J0IGNvbS5nb29nbGUuY29tbW9uLnV0aWwu\nY29uY3VycmVudC5SYXRlTGltaXRlcjsKaW1wb3J0IGNvbS5nb29nbGUuY29t\nbW9uLnV0aWwuY29uY3VycmVudC5TZXR0YWJsZUZ1dHVyZTsKaW1wb3J0IGNv\nbS5nb29nbGUuY29tbW9uLnV0aWwuY29uY3VycmVudC5UaHJlYWRGYWN0b3J5\nQnVpbGRlcjsKCi8qKgogKiBFbmNhcHN1bGF0ZXMgdXBkYXRpbmcgdGhlIGxl\nZGdlciBtZXRhZGF0YSBvcGVyYXRpb24KICovCnB1YmxpYyBjbGFzcyBVcGRh\ndGVMZWRnZXJPcCB7CgogICAgcHJpdmF0ZSBmaW5hbCBzdGF0aWMgTG9nZ2Vy\nIExPRyA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFVwZGF0ZUxlZGdlck9w\nLmNsYXNzKTsKICAgIHByaXZhdGUgZmluYWwgQm9va0tlZXBlciBia2M7CiAg\nICBwcml2YXRlIGZpbmFsIEJvb2tLZWVwZXJBZG1pbiBhZG1pbjsKCiAgICBw\ndWJsaWMgVXBkYXRlTGVkZ2VyT3AoZmluYWwgQm9va0tlZXBlciBia2MsIGZp\nbmFsIEJvb2tLZWVwZXJBZG1pbiBhZG1pbikgewogICAgICAgIHRoaXMuYmtj\nID0gYmtjOwogICAgICAgIHRoaXMuYWRtaW4gPSBhZG1pbjsKICAgIH0KCiAg\nICAvKioKICAgICAqIFVwZGF0ZSB0aGUgYm9va2llIGlkIHByZXNlbnQgaW4g\ndGhlIGxlZGdlciBtZXRhZGF0YS4KICAgICAqCiAgICAgKiBAcGFyYW0gb2xk\nQm9va2llSWQKICAgICAqICAgICAgICAgICAgY3VycmVudCBib29raWUgaWQK\nICAgICAqIEBwYXJhbSBuZXdCb29raWVJZAogICAgICogICAgICAgICAgICBu\nZXcgYm9va2llIGlkCiAgICAgKiBAcGFyYW0gcmF0ZQogICAgICogICAgICAg\nICAgICBudW1iZXIgb2YgbGVkZ2VycyB1cGRhdGluZyBwZXIgc2Vjb25kIChk\nZWZhdWx0IDUgcGVyIHNlYykKICAgICAqIEBwYXJhbSBsaW1pdAogICAgICog\nICAgICAgICAgICBtYXhpbXVtIG51bWJlciBvZiBsZWRnZXJzIHRvIHVwZGF0\nZSAoZGVmYXVsdDogbm8gbGltaXQpLiBTdG9wCiAgICAgKiAgICAgICAgICAg\nIHVwZGF0ZSBpZiByZWFjaGluZyBsaW1pdAogICAgICogQHBhcmFtIHByb2dy\nZXNzYWJsZQogICAgICogICAgICAgICAgICByZXBvcnQgcHJvZ3Jlc3Mgb2Yg\ndGhlIGxlZGdlciB1cGRhdGVzCiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9u\nCiAgICAgKiAgICAgICAgICAgICBpZiB0aGVyZSBpcyBhbiBlcnJvciB3aGVu\nIHVwZGF0aW5nIGJvb2tpZSBpZCBpbiBsZWRnZXIKICAgICAqICAgICAgICAg\nICAgIG1ldGFkYXRhCiAgICAgKiBAdGhyb3dzIEludGVycnVwdGVkRXhjZXB0\naW9uCiAgICAgKiAgICAgICAgICAgICBpbnRlcnJ1cHRlZCBleGNlcHRpb24g\nd2hlbiB1cGRhdGUgbGVkZ2VyIG1ldGEKICAgICAqLwogICAgcHVibGljIHZv\naWQgdXBkYXRlQm9va2llSWRJbkxlZGdlcnMoZmluYWwgQm9va2llU29ja2V0\nQWRkcmVzcyBvbGRCb29raWVJZCwgZmluYWwgQm9va2llU29ja2V0QWRkcmVz\ncyBuZXdCb29raWVJZCwKICAgICAgICAgICAgZmluYWwgaW50IHJhdGUsIGZp\nbmFsIGludCBsaW1pdCwgZmluYWwgVXBkYXRlTGVkZ2VyTm90aWZpZXIgcHJv\nZ3Jlc3NhYmxlKSB0aHJvd3MgQktFeGNlcHRpb24sIElPRXhjZXB0aW9uIHsK\nCiAgICAgICAgZmluYWwgVGhyZWFkRmFjdG9yeUJ1aWxkZXIgdGZiID0gbmV3\nIFRocmVhZEZhY3RvcnlCdWlsZGVyKCkuc2V0TmFtZUZvcm1hdCgiVXBkYXRl\nTGVkZ2VyVGhyZWFkIikuc2V0RGFlbW9uKHRydWUpOwogICAgICAgIGZpbmFs\nIEV4ZWN1dG9yU2VydmljZSBleGVjdXRvciA9IEV4ZWN1dG9ycy5uZXdTaW5n\nbGVUaHJlYWRFeGVjdXRvcih0ZmIuYnVpbGQoKSk7CiAgICAgICAgZmluYWwg\nQXRvbWljSW50ZWdlciBpc3N1ZWRMZWRnZXJDbnQgPSBuZXcgQXRvbWljSW50\nZWdlcigpOwogICAgICAgIGZpbmFsIEF0b21pY0ludGVnZXIgdXBkYXRlZExl\nZGdlckNudCA9IG5ldyBBdG9taWNJbnRlZ2VyKCk7CiAgICAgICAgZmluYWwg\nRnV0dXJlPD8+IHVwZGF0ZUJvb2tpZUNiID0gZXhlY3V0b3Iuc3VibWl0KG5l\ndyBSdW5uYWJsZSgpIHsKCiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAg\nICAgICBwdWJsaWMgdm9pZCBydW4oKSB7CiAgICAgICAgICAgICAgICB1cGRh\ndGVMZWRnZXJzKG9sZEJvb2tpZUlkLCBuZXdCb29raWVJZCwgcmF0ZSwgbGlt\naXQsIHByb2dyZXNzYWJsZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAg\nIHByaXZhdGUgdm9pZCB1cGRhdGVMZWRnZXJzKGZpbmFsIEJvb2tpZVNvY2tl\ndEFkZHJlc3Mgb2xkQm9va2llSWQsIGZpbmFsIEJvb2tpZVNvY2tldEFkZHJl\nc3MgbmV3Qm9va2llSWQsCiAgICAgICAgICAgICAgICAgICAgZmluYWwgaW50\nIHJhdGUsIGZpbmFsIGludCBsaW1pdCwgZmluYWwgVXBkYXRlTGVkZ2VyTm90\naWZpZXIgcHJvZ3Jlc3NhYmxlKSB7CiAgICAgICAgICAgICAgICB0cnkgewog\nICAgICAgICAgICAgICAgICAgIGZpbmFsIEF0b21pY0Jvb2xlYW4gc3RvcCA9\nIG5ldyBBdG9taWNCb29sZWFuKGZhbHNlKTsKICAgICAgICAgICAgICAgICAg\nICBmaW5hbCBTZXQ8TG9uZz4gb3V0c3RhbmRpbmdzID0gQ29sbGVjdGlvbnMu\nbmV3U2V0RnJvbU1hcChuZXcgQ29uY3VycmVudEhhc2hNYXA8TG9uZywgQm9v\nbGVhbj4oKSk7CiAgICAgICAgICAgICAgICAgICAgZmluYWwgUmF0ZUxpbWl0\nZXIgdGhyb3R0bGVyID0gUmF0ZUxpbWl0ZXIuY3JlYXRlKHJhdGUpOwogICAg\nICAgICAgICAgICAgICAgIGZpbmFsIEl0ZXJhdG9yPExvbmc+IGxlZGdlckl0\nciA9IGFkbWluLmxpc3RMZWRnZXJzKCkuaXRlcmF0b3IoKTsKICAgICAgICAg\nICAgICAgICAgICBmaW5hbCBDb3VudERvd25MYXRjaCBzeW5jT2JqID0gbmV3\nIENvdW50RG93bkxhdGNoKDEpOwoKICAgICAgICAgICAgICAgICAgICAvLyBp\ndGVyYXRlIHRocm91Z2ggYWxsIHRoZSBsZWRnZXJzCiAgICAgICAgICAgICAg\nICAgICAgd2hpbGUgKGxlZGdlckl0ci5oYXNOZXh0KCkgJiYgIXN0b3AuZ2V0\nKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3R0bGVyIHRv\nIGNvbnRyb2wgdXBkYXRlcyBwZXIgc2Vjb25kCiAgICAgICAgICAgICAgICAg\nICAgICAgIHRocm90dGxlci5hY3F1aXJlKCk7CgogICAgICAgICAgICAgICAg\nICAgICAgICBmaW5hbCBMb25nIGxJZCA9IGxlZGdlckl0ci5uZXh0KCk7CiAg\nICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIFJlYWRMZWRnZXJNZXRhZGF0\nYUNiIHJlYWRDYiA9IG5ldyBSZWFkTGVkZ2VyTWV0YWRhdGFDYihia2MsIGxJ\nZCwgb2xkQm9va2llSWQsIG5ld0Jvb2tpZUlkKTsKICAgICAgICAgICAgICAg\nICAgICAgICAgb3V0c3RhbmRpbmdzLmFkZChsSWQpOwoKICAgICAgICAgICAg\nICAgICAgICAgICAgRnV0dXJlQ2FsbGJhY2s8Vm9pZD4gdXBkYXRlTGVkZ2Vy\nQ2IgPSBuZXcgVXBkYXRlTGVkZ2VyQ2IobElkLCBzdG9wLCBpc3N1ZWRMZWRn\nZXJDbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRl\nZExlZGdlckNudCwgb3V0c3RhbmRpbmdzLCBzeW5jT2JqLCBwcm9ncmVzc2Fi\nbGUpOwogICAgICAgICAgICAgICAgICAgICAgICBGdXR1cmVzLmFkZENhbGxi\nYWNrKHJlYWRDYi5nZXRGdXR1cmVMaXN0ZW5lcigpLCB1cGRhdGVMZWRnZXJD\nYik7CgogICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZWRMZWRnZXJDbnQu\naW5jcmVtZW50QW5kR2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlm\nIChsaW1pdCAhPSBJbnRlZ2VyLk1JTl9WQUxVRSAmJiBpc3N1ZWRMZWRnZXJD\nbnQuZ2V0KCkgPj0gbGltaXQgfHwgIWxlZGdlckl0ci5oYXNOZXh0KCkpIHsK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3Auc2V0KHRydWUpOwog\nICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg\nICAgIGJrYy5nZXRMZWRnZXJNYW5hZ2VyKCkucmVhZExlZGdlck1ldGFkYXRh\nKGxJZCwgcmVhZENiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgICAgICAgICAgLy8gd2FpdGluZyB0aWxsIGFsbCB0aGUgaXNzdWVkIGxl\nZGdlcnMgYXJlIGZpbmlzaGVkCiAgICAgICAgICAgICAgICAgICAgc3luY09i\nai5hd2FpdCgpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRp\nb24gaW9lKSB7CiAgICAgICAgICAgICAgICAgICAgTE9HLmVycm9yKCJFeGNl\ncHRpb24gd2hpbGUgdXBkYXRpbmcgbGVkZ2VyIiwgaW9lKTsKICAgICAgICAg\nICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiRXhjZXB0\naW9uIHdoaWxlIHVwZGF0aW5nIGxlZGdlciIsIGlvZS5nZXRDYXVzZSgpKTsK\nICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9u\nIGllKSB7CiAgICAgICAgICAgICAgICAgICAgTE9HLmVycm9yKCJFeGNlcHRp\nb24gd2hpbGUgdXBkYXRpbmcgbGVkZ2VyIG1ldGFkYXRhIiwgaWUpOwogICAg\nICAgICAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuaW50ZXJy\ndXB0KCk7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVF\neGNlcHRpb24oIkV4Y2VwdGlvbiB3aGlsZSB1cGRhdGluZyBsZWRnZXIiLCBp\nZS5nZXRDYXVzZSgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nfQogICAgICAgIH0pOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIFdh\naXQgdG8gZmluaXNoIHRoZSBpc3N1ZWQgbGVkZ2Vycy4KICAgICAgICAgICAg\ndXBkYXRlQm9va2llQ2IuZ2V0KCk7CiAgICAgICAgfSBjYXRjaCAoRXhlY3V0\naW9uRXhjZXB0aW9uIGVlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBJT0V4\nY2VwdGlvbigiRXhjZXB0aW9uIHdoaWxlIHVwZGF0aW5nIGxlZGdlciIsIGVl\nKTsKICAgICAgICB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBpZSkg\newogICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLmludGVycnVw\ndCgpOwogICAgICAgICAgICB0aHJvdyBuZXcgSU9FeGNlcHRpb24oIkV4Y2Vw\ndGlvbiB3aGlsZSB1cGRhdGluZyBsZWRnZXIiLCBpZSk7CiAgICAgICAgfSBm\naW5hbGx5IHsKICAgICAgICAgICAgZXhlY3V0b3Iuc2h1dGRvd24oKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSBmaW5hbCBzdGF0aWMgY2xhc3Mg\nVXBkYXRlTGVkZ2VyQ2IgaW1wbGVtZW50cyBGdXR1cmVDYWxsYmFjazxWb2lk\nPiB7CiAgICAgICAgZmluYWwgbG9uZyBsZWRnZXJJZDsKICAgICAgICBmaW5h\nbCBBdG9taWNCb29sZWFuIHN0b3A7CiAgICAgICAgZmluYWwgQXRvbWljSW50\nZWdlciBpc3N1ZWRMZWRnZXJDbnQ7CiAgICAgICAgZmluYWwgQXRvbWljSW50\nZWdlciB1cGRhdGVkTGVkZ2VyQ250OwogICAgICAgIGZpbmFsIFNldDxMb25n\nPiBvdXRzdGFuZGluZ3M7CiAgICAgICAgZmluYWwgQ291bnREb3duTGF0Y2gg\nc3luY09iajsKICAgICAgICBmaW5hbCBVcGRhdGVMZWRnZXJOb3RpZmllciBw\ncm9ncmVzc2FibGU7CgogICAgICAgIHB1YmxpYyBVcGRhdGVMZWRnZXJDYihs\nb25nIGxlZGdlcklkLCBBdG9taWNCb29sZWFuIHN0b3AsIEF0b21pY0ludGVn\nZXIgaXNzdWVkTGVkZ2VyQ250LAogICAgICAgICAgICAgICAgQXRvbWljSW50\nZWdlciB1cGRhdGVkTGVkZ2VyQ250LCBTZXQ8TG9uZz4gb3V0c3RhbmRpbmdz\nLCBDb3VudERvd25MYXRjaCBzeW5jT2JqLAogICAgICAgICAgICAgICAgVXBk\nYXRlTGVkZ2VyTm90aWZpZXIgcHJvZ3Jlc3NhYmxlKSB7CiAgICAgICAgICAg\nIHRoaXMubGVkZ2VySWQgPSBsZWRnZXJJZDsKICAgICAgICAgICAgdGhpcy5z\ndG9wID0gc3RvcDsKICAgICAgICAgICAgdGhpcy5pc3N1ZWRMZWRnZXJDbnQg\nPSBpc3N1ZWRMZWRnZXJDbnQ7CiAgICAgICAgICAgIHRoaXMudXBkYXRlZExl\nZGdlckNudCA9IHVwZGF0ZWRMZWRnZXJDbnQ7CiAgICAgICAgICAgIHRoaXMu\nb3V0c3RhbmRpbmdzID0gb3V0c3RhbmRpbmdzOwogICAgICAgICAgICB0aGlz\nLnN5bmNPYmogPSBzeW5jT2JqOwogICAgICAgICAgICB0aGlzLnByb2dyZXNz\nYWJsZSA9IHByb2dyZXNzYWJsZTsKICAgICAgICB9CgogICAgICAgIEBPdmVy\ncmlkZQogICAgICAgIHB1YmxpYyB2b2lkIG9uRmFpbHVyZShUaHJvd2FibGUg\ndGgpIHsKICAgICAgICAgICAgTE9HLmVycm9yKCJFcnJvciB1cGRhdGluZyBs\nZWRnZXIge30iLCBsZWRnZXJJZCwgdGgpOwogICAgICAgICAgICBzdG9wLnNl\ndCh0cnVlKTsKICAgICAgICAgICAgZmluaXNoVXBkYXRlTGVkZ2VyKCk7CiAg\nICAgICAgfQoKICAgICAgICBAT3ZlcnJpZGUKICAgICAgICBwdWJsaWMgdm9p\nZCBvblN1Y2Nlc3MoVm9pZCBvYmopIHsKICAgICAgICAgICAgdXBkYXRlZExl\nZGdlckNudC5pbmNyZW1lbnRBbmRHZXQoKTsKICAgICAgICAgICAgLy8gbWF5\nIHByaW50IHByb2dyZXNzCiAgICAgICAgICAgIHByb2dyZXNzYWJsZS5wcm9n\ncmVzcyh1cGRhdGVkTGVkZ2VyQ250LmdldCgpLCBpc3N1ZWRMZWRnZXJDbnQu\nZ2V0KCkpOwogICAgICAgICAgICBmaW5pc2hVcGRhdGVMZWRnZXIoKTsKICAg\nICAgICB9CgogICAgICAgIHByaXZhdGUgdm9pZCBmaW5pc2hVcGRhdGVMZWRn\nZXIoKSB7CiAgICAgICAgICAgIG91dHN0YW5kaW5ncy5yZW1vdmUobGVkZ2Vy\nSWQpOwogICAgICAgICAgICBpZiAob3V0c3RhbmRpbmdzLmlzRW1wdHkoKSAm\nJiBzdG9wLmdldCgpKSB7CiAgICAgICAgICAgICAgICBMT0cuaW5mbygiVG90\nYWwgbnVtYmVyIG9mIGxlZGdlcnMgaXNzdWVkPXt9IHVwZGF0ZWQ9e30iLCBp\nc3N1ZWRMZWRnZXJDbnQuZ2V0KCksIHVwZGF0ZWRMZWRnZXJDbnQuZ2V0KCkp\nOwogICAgICAgICAgICAgICAgc3luY09iai5jb3VudERvd24oKTsKICAgICAg\nICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIGZpbmFsIHN0\nYXRpYyBjbGFzcyBSZWFkTGVkZ2VyTWV0YWRhdGFDYiBpbXBsZW1lbnRzIEdl\nbmVyaWNDYWxsYmFjazxMZWRnZXJNZXRhZGF0YT4gewogICAgICAgIGZpbmFs\nIEJvb2tLZWVwZXIgYmtjOwogICAgICAgIGZpbmFsIExvbmcgbGVkZ2VySWQ7\nCiAgICAgICAgZmluYWwgQm9va2llU29ja2V0QWRkcmVzcyBjdXJCb29raWVB\nZGRyOwogICAgICAgIGZpbmFsIEJvb2tpZVNvY2tldEFkZHJlc3MgdG9Cb29r\naWVBZGRyOwogICAgICAgIFNldHRhYmxlRnV0dXJlPFZvaWQ+IGZ1dHVyZSA9\nIFNldHRhYmxlRnV0dXJlLmNyZWF0ZSgpOwogICAgICAgIHB1YmxpYyBSZWFk\nTGVkZ2VyTWV0YWRhdGFDYihCb29rS2VlcGVyIGJrYywgTG9uZyBsZWRnZXJJ\nZCwgQm9va2llU29ja2V0QWRkcmVzcyBjdXJCb29raWVBZGRyLAogICAgICAg\nICAgICAgICAgQm9va2llU29ja2V0QWRkcmVzcyB0b0Jvb2tpZUFkZHIpIHsK\nICAgICAgICAgICAgdGhpcy5ia2MgPSBia2M7CiAgICAgICAgICAgIHRoaXMu\nbGVkZ2VySWQgPSBsZWRnZXJJZDsKICAgICAgICAgICAgdGhpcy5jdXJCb29r\naWVBZGRyID0gY3VyQm9va2llQWRkcjsKICAgICAgICAgICAgdGhpcy50b0Jv\nb2tpZUFkZHIgPSB0b0Jvb2tpZUFkZHI7CiAgICAgICAgfQoKICAgICAgICBM\naXN0ZW5hYmxlRnV0dXJlPFZvaWQ+IGdldEZ1dHVyZUxpc3RlbmVyKCkgewog\nICAgICAgICAgICByZXR1cm4gZnV0dXJlOwogICAgICAgIH0KCiAgICAgICAg\nQE92ZXJyaWRlCiAgICAgICAgcHVibGljIHZvaWQgb3BlcmF0aW9uQ29tcGxl\ndGUoaW50IHJjLCBMZWRnZXJNZXRhZGF0YSBtZXRhZGF0YSkgewogICAgICAg\nICAgICBpZiAoQktFeGNlcHRpb24uQ29kZS5Ob1N1Y2hMZWRnZXJFeGlzdHNF\neGNlcHRpb24gPT0gcmMpIHsKICAgICAgICAgICAgICAgIGZ1dHVyZS5zZXQo\nbnVsbCk7CiAgICAgICAgICAgICAgICByZXR1cm47IC8vIHRoaXMgaXMgT0sK\nICAgICAgICAgICAgfSBlbHNlIGlmIChCS0V4Y2VwdGlvbi5Db2RlLk9LICE9\nIHJjKSB7CiAgICAgICAgICAgICAgICAvLyBvcGVuIGxlZGdlciBmYWlsZWQu\nCiAgICAgICAgICAgICAgICBMT0cuZXJyb3IoIkdldCBsZWRnZXIgbWV0YWRh\ndGEge30gZmFpbGVkLiBFcnJvciBjb2RlIHt9IiwgbGVkZ2VySWQsIHJjKTsK\nICAgICAgICAgICAgICAgIGZ1dHVyZS5zZXRFeGNlcHRpb24oQktFeGNlcHRp\nb24uY3JlYXRlKHJjKSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAg\nICAgICAgIH0KICAgICAgICAgICAgYm9vbGVhbiB1cGRhdGVFbnNlbWJsZSA9\nIGZhbHNlOwogICAgICAgICAgICBmb3IgKEFycmF5TGlzdDxCb29raWVTb2Nr\nZXRBZGRyZXNzPiBlbnNlbWJsZXMgOiBtZXRhZGF0YS5nZXRFbnNlbWJsZXMo\nKS52YWx1ZXMoKSkgewogICAgICAgICAgICAgICAgaW50IGluZGV4ID0gZW5z\nZW1ibGVzLmluZGV4T2YoY3VyQm9va2llQWRkcik7CiAgICAgICAgICAgICAg\nICBpZiAoLTEgIT0gaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICBlbnNl\nbWJsZXMuc2V0KGluZGV4LCB0b0Jvb2tpZUFkZHIpOwogICAgICAgICAgICAg\nICAgICAgIHVwZGF0ZUVuc2VtYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIXVwZGF0ZUVuc2Vt\nYmxlKSB7CiAgICAgICAgICAgICAgICBmdXR1cmUuc2V0KG51bGwpOwogICAg\nICAgICAgICAgICAgcmV0dXJuOyAvLyBsZWRnZXIgZG9lc24ndCBjb250YWlu\ncyB0aGUgZ2l2ZW4gY3VyQm9va2llSWQKICAgICAgICAgICAgfQogICAgICAg\nICAgICBmaW5hbCBHZW5lcmljQ2FsbGJhY2s8Vm9pZD4gd3JpdGVDYiA9IG5l\ndyBHZW5lcmljQ2FsbGJhY2s8Vm9pZD4oKSB7CiAgICAgICAgICAgICAgICBA\nT3ZlcnJpZGUKICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9wZXJhdGlv\nbkNvbXBsZXRlKGludCByYywgVm9pZCByZXN1bHQpIHsKICAgICAgICAgICAg\nICAgICAgICBpZiAocmMgIT0gQktFeGNlcHRpb24uQ29kZS5PSykgewogICAg\nICAgICAgICAgICAgICAgICAgICAvLyBtZXRhZGF0YSB1cGRhdGUgZmFpbGVk\nCiAgICAgICAgICAgICAgICAgICAgICAgIExPRy5lcnJvcigiTGVkZ2VyIHt9\nIG1ldGFkYXRhIHVwZGF0ZSBmYWlsZWQuIEVycm9yIGNvZGUge30iLCBsZWRn\nZXJJZCwgcmMpOwogICAgICAgICAgICAgICAgICAgICAgICBmdXR1cmUuc2V0\nRXhjZXB0aW9uKEJLRXhjZXB0aW9uLmNyZWF0ZShyYykpOwogICAgICAgICAg\nICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICAgICAgICAgIGZ1dHVyZS5zZXQobnVsbCk7CiAgICAgICAg\nICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJrYy5nZXRM\nZWRnZXJNYW5hZ2VyKCkud3JpdGVMZWRnZXJNZXRhZGF0YShsZWRnZXJJZCwg\nbWV0YWRhdGEsIHdyaXRlQ2IpOwogICAgICAgIH0KICAgIH0KfQo=\n");
    }

    public static void man(String[] args) throws SQLException, ParseException {
        ScraperController scraperController = new ScraperController("bookkeeper", "apache");

        scraperController.setProjectCreationDate();
        List<Release> allReleases = scraperController.getAllReleases();
        scraperController.setProjectReleases(allReleases);
        List<Release> releasesOfInterest = scraperController.getReleasesOfInterest("4.4.0");
        scraperController.setProjectReleasesOfInterest(releasesOfInterest);

        String lastInterestReleaseEndDate = scraperController.getLastReleaseEndDateOfInterest();
        System.out.println("Last interest release end date: " + lastInterestReleaseEndDate);
        /*ASSUNZIONE la seguente istruzione è per troncare l'ultima release di interesse bookeeper alla data di migrazione
        a github issue*/
        //scraperController.setLastReleaseEndDateOfInterest("2017-06-16");

        System.out.println("Project: " + scraperController.getProjectName());
        System.out.println("Creation date: " + scraperController.getProjectCreationDate());
        System.out.println("Last interest release end date: " + lastInterestReleaseEndDate);
        //scraperController.createAllCommitsJsonUntilDb(lastInterestReleaseEndDate,"commitDb");
        List<Commit> commits = scraperController.getCommitsFromDb("commitDb");
        scraperController.setProjectCommits(commits);
        scraperController.linkCommitsToReleases();
        for (Release release : scraperController.getProjectReleasesOfInterest()) {
            System.out.println("Release: " + release.getName() + " number " + release.getNumber() + " has " + release.getCommits().size() + " commits and starts at " + release.getStartDate() + " and ends at " + release.getEndDate());
        }

        scraperController.createWalkForwardDatasets();


        /*System.out.println("\n" + scraperController.getProjectReleases().size() + " releases:");
        for (Release tmp : allReleases) {
            System.out.println(tmp.getName() + " " + tmp.getNumber() + " " + tmp.getReleaseDate() + " " + tmp.getEndDate());
        }

        System.out.println("\n" + releasesOfInterest.size() + " interest releases:");
        for (Release tmp : releasesOfInterest) {
            System.out.println(tmp.getName() + " " + tmp.getNumber() + " " + tmp.getReleaseDate() + " " + tmp.getEndDate());
        }

        List<Ticket> allTickets = scraperController.getAllTickets();
        scraperController.setProjectFixedBugTickets(allTickets);
        List<Ticket> ticketOfInterest = scraperController.getTicketsOfInterest(lastInterestReleaseEndDate);
        scraperController.setProjectFixedBugTicketsOfInterest(ticketOfInterest);

        System.out.println("\n" + ticketOfInterest.size() + " tickets of interest:");
        for (Ticket tmp : ticketOfInterest) {
            System.out.println(tmp.getKey() + " ResDate: " + tmp.getResolutionDate());
        }

        //logger.fine(jiraDao.getFixedBugTickets(0));
        //gitDao.getAllCommits();*/
    }
}
